!function(e,t){if("function"==typeof define&&define.amd)define("FadeScroll",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var r={exports:{}};t(r.exports),e.FadeScroll=r.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Vertical=e.Horizontal=void 0,e.setResizeObserver=function(e){r||"function"==typeof e&&(o=e)};var t=function(){function e(e){this._request=0,this._callback=e}return e.prototype.disconnect=function(){},e.prototype.observe=function(){window.cancelAnimationFrame(this._request),this._request=window.requestAnimationFrame(this._callback)},e.prototype.unobserve=function(){},e}(),r="ResizeObserver"in window,o=r?window.ResizeObserver:t,n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function l(e,t){if(Boolean(t)&&t.constructor===Object)for(var r=0,o=Object.keys(t);r<o.length;r++){var n=o[r];void 0!==e.options[n]?e.options[n]=t[n]:console.warn("FadeScroll: '".concat(n,"' is not a valid option"))}}"function"==typeof SuppressedError&&SuppressedError;var s="scrollBehavior"in document.documentElement.style,c=function(){function e(e){var t,r=this;if(this.scrollListener=function(){var e=r.wrapper.classList;e[r.scrollPosition<r.overflowSize?"add":"remove"](r._fadeEnd),e[r.scrollPosition>0?"add":"remove"](r._fadeStart)},e instanceof HTMLElement)t=e;else{try{t=document.querySelector(e)}catch(t){throw new SyntaxError("'".concat(JSON.stringify(e),"' is not a valid selector"))}if(null===t)throw new Error("Cannot find an element matching the selector '".concat(e,"'"))}if(null===t.parentNode)throw new Error("Provided element does not have a parent");t.classList.add("fade-scroll__content");var n=document.createElement("div");n.className="fade-scroll";var i=document.createElement("div");i.className="fade-scroll__scrollbar",n.appendChild(i),t.parentNode.insertBefore(n,t),i.appendChild(t),this.content=t,this.scrollBar=i,this.wrapper=n,this._observer=new o(this.scrollListener),this.addScrollListener(this.scrollListener)}return Object.defineProperty(e.prototype,"overflowSize",{get:function(){return this.contentSize-this.wrapperSize},enumerable:!1,configurable:!0}),e.prototype.mount=function(){return this._observer.observe(this.wrapper),this._observer.observe(this.content),this},e.prototype.addScrollListener=function(e){this.scrollBar.addEventListener("scroll",e)},e.prototype.removeScrollListener=function(e){this.scrollBar.removeEventListener("scroll",e)},e}();e.Horizontal=function(e){function t(t,r){var o,n=e.call(this,t)||this;return n.wheelListener=function(e){0!==e.deltaY&&(e.preventDefault(),n.scrollBar.scrollLeft+=e.deltaY)},n.wrapper.classList.add("fade-scroll--horizontal"),n._fadeStart="left-overflow",n._fadeEnd="right-overflow",n.options=(o=n,Object.seal({_hideScrollbar:!1,get hideScrollbar(){return this._hideScrollbar},set hideScrollbar(e){this._hideScrollbar=Boolean(e),o.wrapper.style.height=e?"".concat(o.content.offsetHeight,"px"):""},_captureWheel:!1,get captureWheel(){return this._captureWheel},set captureWheel(e){this._captureWheel=Boolean(e),o.scrollBar.onwheel=e?o.wheelListener:null}})),void 0!==r&&l(n,r),n}return i(t,e),Object.defineProperty(t.prototype,"contentSize",{get:function(){return this.content.offsetWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapperSize",{get:function(){return this.wrapper.offsetWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this.scrollBar.scrollLeft},set:function(e){s?this.scrollBar.scroll({left:e,behavior:"smooth"}):this.scrollBar.scrollLeft=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.scrollBar.removeEventListener("scroll",this.scrollListener),this.scrollBar.onwheel=null,this.wrapper.classList.remove(this._fadeStart,this._fadeEnd),this._observer.disconnect()},t}(c),e.Vertical=function(e){function t(t,r){var o,n=e.call(this,t)||this;return n.wrapper.classList.add("fade-scroll--vertical"),n._fadeStart="top-overflow",n._fadeEnd="bottom-overflow",n.options=(o=n,Object.seal({_hideScrollbar:!1,get hideScrollbar(){return this._hideScrollbar},set hideScrollbar(e){this._hideScrollbar=Boolean(e),o.scrollBar.style.width=this._hideScrollbar?"calc(100% + ".concat(o.wrapper.offsetWidth-o.content.offsetWidth,"px)"):""}})),void 0!==r&&l(n,r),n}return i(t,e),Object.defineProperty(t.prototype,"contentSize",{get:function(){return this.content.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapperSize",{get:function(){return this.wrapper.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this.scrollBar.scrollTop},set:function(e){s?this.scrollBar.scroll({top:e,behavior:"smooth"}):this.scrollBar.scrollTop=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.scrollBar.removeEventListener("scroll",this.scrollListener),this.wrapper.classList.remove(this._fadeStart,this._fadeEnd),this._observer.disconnect()},t}(c)}));
